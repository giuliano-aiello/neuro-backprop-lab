\begin{algorithm}
    \BlankLine
    \BlankLine

    \For{$w_{ij} \in parameters$} { \BlankLine
    \If{${\frac{\partial E}{\partial w_{ij}}}^{curr} \cdot {\frac{\partial E}{\partial w_{ij}}}^{prev} > 0$} { \BlankLine \BlankLine
        $\Delta_{ij}^{curr} = \min(\eta^{+} \cdot \Delta_{ij}^{prev}, \Delta_{\max})$ \BlankLine
        $\Delta w_{ij}^{curr} = -\operatorname{sign}\left(\frac{\partial E}{\partial w_{ij}}^{curr}\right) \cdot \Delta_{ij}^{curr}$
    }
    \If{${\frac{\partial E}{\partial w_{ij}}}^{curr} \cdot {\frac{\partial E}{\partial w_{ij}}}^{prev} < 0$} { \BlankLine \BlankLine
        $\Delta_{ij}^{curr} = \max(\eta^{-} \cdot \Delta_{ij}^{prev}, \Delta_{\min})$ \BlankLine
        \uIf{$E^{curr} > E^{prev}$}{ \BlankLine
            $\Delta w_{ij}^{curr} = -\Delta w_{ij}^{prev}$
        }\Else{
            $\Delta w_{ij}^{curr} = 0$
        }
        ${\frac{\partial E}{\partial w_{ij}}}^{curr} = 0$
    }
    \If{${\frac{\partial E}{\partial w_{ij}}}^{curr} \cdot {\frac{\partial E}{\partial w_{ij}}}^{prev} = 0$} { \BlankLine \BlankLine
        $\Delta_{ij}^{curr} = \Delta_{ij}^{prev}$ \BlankLine
        $\Delta w_{ij}^{curr} = -\operatorname{sign}\left(\frac{\partial E}{\partial w_{ij}}^{curr}\right) \cdot \Delta_{ij}^{curr}$
    } \BlankLine \BlankLine

        $w_{ij}^{curr} = w_{ij}^{prev} + \Delta w_{ij}^{curr}$
    }

    \caption{\texttt{IRpropPlus.step()}}
    \label{alg:irpropplus}
\end{algorithm}